<link rel="stylesheet" href="/css/login.css">
<link rel="stylesheet" href="/css/app.css">
<link rel="stylesheet" href="/css/csvc.css">

<div class="container">
    <h1>Đổi Mật Khẩu</h1>
    <form method = "POST" action = "/admin/changepassword" >
    <div class="form-control">
        <input type="text" id="current-password" name = "currentPassword" placeholder="Mật khẩu hiện tại" />
        <span></span>
        <small></small>
    </div>
    
    <div class="form-control">
        <input type="password" id="next-password"  name = "nextPassword" placeholder="Mật khẩu mới" />
        <span></span>
        <small></small>
    </div>

    <div class="form-control">
        <input type="password" id="confirm-password"  name = "confirmPassword" 
        oninput="checkConfirmPassword()" placeholder="Nhập lại mật khẩu" />
        <span></span>
        <small></small>
    </div>


    <div id = "checkValidate" class="alert alert-danger" style = "visibility: hidden" role="alert">
        Mật khẩu xác nhận không chính xác
    </div>

    <div style="">
    <input type="submit" id = "submit" value="Đổi mật khẩu" disabled="disabled"/>
    <input type="button" style = "	margin-top: 20px;
                width: 100%;
                height: 50px;
                border: 1px solid;
                background: #cc444f;
                border-radius: 25px;
                font-size: 18px;
                color: #e9f4fb;
                font-weight: 700;
                cursor: pointer;
                outline: none;
                transition: 0.5s;" onclick="location.href='/';" value="Trang chủ" />
    </div>

    </form>
</div>
            {{#if success}}
            <div class="my-modal">
                <div class="modal__inner sticky-top">
                    <div class="modal__header" >
                        <h5>Thông báo</h5>
                        <i class="fas fa-times"></i>
                    </div>
                    <div class="modal__body">
                        <h4>Đổi mật khẩu không thành công</h4>
                    </div>
                    <div class="modal__footer">
                        <div>
                            {{!-- <a href="/admin/changepassword">xác nhận</a> --}}
                            {{!-- <div onclick="history.back()" class="button" > xác nhận</div>  --}}
                            <input type="button" onclick="history.back()"
                            style="
                            padding : 5px;
                            color: white;
                            background-color: red;
                            border-radius: 2px;
                            border: none;
                            "
                            value="Xác nhận">                   
                        </div>
                    </div>
                </div>
            </div>
        {{/if}}


<script>
    function checkConfirmPassword(){
        var confirmPassword = document.getElementById("confirm-password");
        var nextPassword = document.getElementById ("next-password");
        var msg = document.getElementById("checkValidate")
        var submit = document.getElementById("submit")
        if(confirmPassword.value !== nextPassword.value){
            msg.textContent = "Mật khẩu không chính xác";
            msg.style.visibility = "visible";
            submit.disabled = true;
            submit.style.cursor = "not-allowed"
        }else{
            msg.style.visibility = "hidden";
            submit.disabled = false;
            submit.style.cursor = "pointer"
        }
    }
    
</script>